type: map
required: True
mapping:
  "data": &data
    type: seq
    required: True
    sequence:
      - type: map
        required: True
        mapping:
          "name":
            type: str
            required: True
          "format":
            type: any
            required: False
          "values":
            type: any
            required: False
          "source":
            type: any
            required: False
          "url":
            type: str
            required: False
          "transform":
            type: any
            required: False
          "modify":
            type: any
            required: False
  "benchmark":
    type: map
    required: True
    mapping:
      "model":
        type: str
        required: False
      "boundary_condition":
        type: str
        required: False
      "id":
        type: str
        required: True
        enum: ["1a", "1b"]
  "metadata":
    type: map
    required: True
    mapping:
      "summary":
        type: str
        required: False
      "author":
        type: str
        required: False
      "email":
        type: str
        pattern: \b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b
      "timestamp":
        type: timestamp
        required: True
      "hardware":
        type: map
        required: True
        mapping:
          "architecture":
            type: str
            required: False
            enum: ["x86_64"]
          "cores":
            type: int
            required: True
            range:
              min: 1
          "details":
            <<: *data
            required: False
      "software":
        type: map
        required: True
        mapping:
          "name":
            type: str
            enum: ["fipy", "moose", "mmsp"]
            required: True
          "version":
            type: str
            required: False
          "repo": &repo
            type: map
            required: False
            mapping:
              "url":
                type: str
                required: True
              "version":
                type: str
                pattern: \b[0-9a-f]{5,40}\b
                required: True
          "details":
            <<: *data
            required: False
      "implementation":
        type: map
        required: False
        mapping:
          "repo":
            <<: *repo
          "end_condition":
            type: str
            required: False
          "details":
            <<: *data
            required: False
