// Generated by CoffeeScript 1.9.3
(function() {
  var add_description, add_header, add_logo, build_function, data_file;

  data_file = "data/benchmarks.yaml";

  add_logo = function(selection) {
    var subselection;
    subselection = selection.filter(function(d) {
      return "image" in d;
    });
    subselection = subselection.append("img").attr("src", function(d) {
      return d.image;
    });
    subselection = subselection.attr("style", "margin-top: 5px;");
    return subselection.attr("alt", "").attr("class", "circle");
  };

  add_header = function(selection) {
    var subselection;
    subselection = selection.filter(function(d) {
      return "title" in d;
    });
    subselection = subselection.append("span").attr("class", "title");
    subselection = subselection.append("a").attr("href", function(d) {
      return d.url;
    });
    subselection.attr("target", "_blank");
    return subselection.append("h5").text(function(d) {
      return d.title;
    });
  };

  add_description = function(selection) {
    var p, subselection;
    subselection = selection.filter(function(d) {
      return "description" in d;
    });
    p = subselection.append("p").text(function(d) {
      return d.description;
    });
    return p.attr("style", "font-size: 20px");
  };

  build_function = function(data_file) {
    var data, selection;
    data = jsyaml.load(data_file);
    selection = d3.select("#benchmarks").selectAll().data(data).enter().append("li").attr("class", "collection-item avatar light-green lighten-4");
    selection.attr("style", "border-color: transparent; border-bottom-style: none; margin-bottom: 5px;");
    selection = selection.sort();
    add_logo(selection);
    add_header(selection);
    return add_description(selection);
  };

  d3.text(data_file, build_function);

}).call(this);
