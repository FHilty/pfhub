---
layout: default
---

<div class="container">
  <div class="row">
    <div class="col s12 m12 l12 xl8 offset-xl2" id="overview">
      <h2 class="header">
        Submit a new benchmark result
      </h2>
      <div class="flow-text mission-statement">
        <p>
          Fill out this form to submit a new benchmark result to the
          website. The data will be submitted via a pull-request on
          GitHub. Please go to
          <a target="_blank"
             href="https://github.com/usnistgov/chimad-phase-field/pulls">
            usnistgov/chimad-phase-field
          </a>
          to view the pull-request. To upload a new benchmark
          result with a manual pull request, please follow
          the
          <a target="_blank"
             href="/chimad-phase-field/simulations/upload">
            manual
            upload instructions
          </a>.
        </p>
      </div>
    </div>
  </div>
</div>

<div class="container top-bar small-buffer">
  <div class="row small-buffer">
    <div class="col s12 m12 l12 xl2">
      <h5 class="sideheader">Upload Form</h5>
    </div>
    <div class="col s12 m12 l12 xl10">
      <form name="simulation_form"
            id="my_form"
            method="POST"
            action="https://api.staticman.net/v2/entry/usnistgov/chimad-phase-field/master/simulations">
        <input name="options[redirect]"
               type="hidden"
               value="https://github.com/usnistgov/chimad-phase-field/pulls">

        {% include form_author.html %}
        {% include form_overview.html %}
        {% include form_implementation.html %}
        {% include form_hardware.html %}


        <div class="row top-bar-thin">
          <h5>
            Efficiency Data
          </h5>
          <div class="input-field col s5">
            <input name="fields[data][0][name]"
                   type="hidden"
                   value="run_time">
            <input required
		   id="run_time"
                   name="fields[data][0][values][0][wall_time]"
                   type="number"
                   step="any"
                   class="validate"
                   min="0">
            <label for="run_time">
              Run Time (s)
              <a class="tooltipped"
                 data-position="bottom"
                 data-tooltip="The wall clock time for the result in seconds">
                <i class="tiny material-icons">help</i>
              </a>
            </label>
          </div>
          <div class="input-field col s5">
            <input required
		   id="sim_time"
                   name="fields[data][0][values][0][sim_time]"
                   type="number"
                   step="any"
                   class="validate"
                   min="0">
            <label for="sim_time">
              Execution End Time (s)
              <a class="tooltipped"
                 data-position="bottom"
                 data-tooltip="The execution end time (not wall clock time) in seconds for this result">
                <i class="tiny material-icons">help</i>
              </a>
            </label>
          </div>
        </div>

        <div class="row">
          <!-- <div class="input-field col s5"> -->
          <!--   <input name="fields[data][2][name]" -->
          <!--          type="hidden" -->
          <!--          value="youtube"> -->
          <!--   <input id="youtube" -->
          <!--          name="fields[data][2][url]" -->
          <!--          type="text" -->
          <!--          class="validate" -->
          <!--          pattern="^(?:https?:\/\/)?(?:m\.|www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$"> -->
          <!--   <label for="youtube"> -->
          <!--     Youtube URL -->
          <!--     <a class="tooltipped" -->
          <!--        data-position="bottom" -->
          <!--        data-tooltip="A youtube movie of the simulation evolving to be displayed on the simulation landing page"> -->
          <!--       <i class="tiny material-icons">help</i> -->
          <!--     </a> -->
          <!--   </label> -->
          <!-- </div> -->
          <div class="input-field col s5">
            <input name="fields[data][1][name]"
                   type="hidden"
                   value="memory_usage">
            <input name="fields[data][1][values][0][unit]"
                   type="hidden"
                   value="KB">
            <input required
		   id="memory_usage"
                   name="fields[data][1][values][0][value]"
                   type="number"
                   class="validate"
                   min="0"
                   step="any">
            <label for="memory_usage">
              Memory Usage (KB)
              <a class="tooltipped"
                 data-position="bottom"
                 data-tooltip="The memory usage in total across all nodes in KB">
                <i class="tiny material-icons">help</i>
              </a>
            </label>
          </div>
        </div>

        <div class="row top-bar-thin">
          <h5>
            Data Files
          </h5>
          <div class="input-field col s5">
            <input name="fields[data][2][name]"
                   type="hidden"
                   value="free_energy">
            <input required
		   id="free_energy_url"
                   name="fields[data][2][url]"
                   type="url"
                   class="validate">
            <label for="free_energy_url">
              Free Energy Data URL (CSV, JSON)
              <a class="tooltipped"
                 data-position="bottom"
                 data-tooltip="Free energy data either in CSV of JSON
                 format. CSV requires both 'time' and 'free_energy'
                 fields. JSON should be formatted as a list with each
                 item having 'time' and 'free_energy' keys.">
                <i class="tiny material-icons">help</i>
              </a>
            </label>
          </div>
          <div class="col s5">
            <input name="fields[data][2][format][parse][time]"
                   type="hidden"
                   value="number">
            <input name="fields[data][2][format][parse][free_energy]"
                   type="hidden"
                   value="number">
            <input name="fields[data][2][transform][0][type]"
                   type="hidden"
                   value="filter">
            <input name="fields[data][2][transform][0][test]"
                   type="hidden"
                   value="datum.time > 0.01">
            <p>
              <input required checked="checked" class="with-gap" name="fields[data][2][format][type]" type="radio" value="csv" id="csv3" />
              <label for="csv3">CSV</label>
            </p>
            <p>
              <input class="with-gap" name="fields[data][2][format][type]" type="radio" value="json" id="json1" />
              <label for="json1">JSON</label>
            </p>
          </div>
        </div>


        <div class="row">
          <div class="input-field col s5">
            <input name="fields[data][3][name]"
                   type="hidden"
                   value="cut_plane_x">
            <input id="cut_plane_x_url"
                   name="fields[data][3][url]"
                   type="url"
                   class="validate">
            <label for="cut_plane_x">
              Cut Plane X URL (CSV, JSON)
              <a class="tooltipped"
                 data-position="bottom"
                 data-tooltip="Cut plane data in the x direction either in CSV of JSON
                 format. CSV requires both 'x' and 'concentration'
                 fields. JSON should be formatted as a list with each
                 item having 'x' and 'concentration' keys.">
                <i class="tiny material-icons">help</i>
              </a>
            </label>
          </div>
          <div class="col s5">
            <input name="fields[data][3][format][parse][x]"
                   type="hidden"
                   value="number">
            <input name="fields[data][3][format][parse][concentration]"
                   type="hidden"
                   value="number">
            <p>
              <input required checked="checked" class="with-gap" name="fields[data][3][format][type]" type="radio" value="csv" id="csv1" />
              <label for="csv1">CSV</label>
            </p>
            <p>
              <input class="with-gap" name="fields[data][3][format][type]" type="radio" value="json" id="json2" />
              <label for="json2">JSON</label>
            </p>
          </div>
        </div>


        <div class="row">
          <div class="input-field col s5">
            <input name="fields[data][4][name]"
                   type="hidden"
                   value="cut_plane_y">
            <input id="cut_plane_y_url"
                   name="fields[data][4][url]"
                   type="url"
                   class="validate">
            <label for="cut_plane_y">
              Cut Plane Y URL (CSV, JSON)
              <a class="tooltipped"
                 data-position="bottom"
                 data-tooltip="Cut plane data in the y direction either in CSV of JSON
                 format. CSV requires both 'y' and 'concentration'
                 fields. JSON should be formatted as a list with each
                 item having 'y' and 'concentration' keys.">
                <i class="tiny material-icons">help</i>
              </a>
            </label>
          </div>
          <div class="col s5">
            <input name="fields[data][4][format][parse][y]"
                   type="hidden"
                   value="number">
            <input name="fields[data][4][format][parse][concentration]"
                   type="hidden"
                   value="number">
            <p>
              <input required checked="checked" class="with-gap" name="fields[data][4][format][type]" type="radio" value="csv" id="csv2" />
              <label for="csv2">CSV</label>
            </p>
            <p>
              <input class="with-gap" name="fields[data][4][format][type]" type="radio" value="json" id="json3" />
              <label for="json3">JSON</label>
            </p>
          </div>
        </div>




        <div class="row top-bar-thin">
          <div class="col s12">
            <p>
              <button class="btn waves-effect waves-light light-green darken-1"
                      type="submit"
                      name="action">
                Submit
                <i class="material-icons right">send</i>
              </button>
            </p>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>

<!-- <script> -->
<!--   var SIM_NAME = new URL(window.location.href).searchParams.get("sim"); -->
<!--   var DATA={{ site.data.simulations | jsonify }}[SIM_NAME].meta; -->
<!--   document.getElementById("author").setAttribute("value", DATA.metadata.author.first); -->
<!-- </script> -->
<script src="{{ site.baseurl }}/js/upload_form.js"></script>
<script>
  $(document).ready(function() {
  $('select').material_select();
  });

  $(document).ready(function() {
  Materialize.updateTextFields();
  });

  $('.datepicker').pickadate({
  selectMonths: true, // Creates a dropdown to control month
  selectYears: 15, // Creates a dropdown of 15 years to control year
  max: true
  });

</script>
